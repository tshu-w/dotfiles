Include ~/.orbstack/ssh/config

HOST local
  Hostname localhost
  User wangtianshu
  Port 2048
Host github.com
  Hostname ssh.github.com
  User git
  Port 443
Match exec "echo %h | grep 'git' && ! timeout 1 nc -z %h %p &> /dev/null"
  ProxyCommand nc -X 5 -x 127.0.0.1:6153 %h %p
Host det
  Hostname 02661d2b-ce00-4249-a4ec-f04c964b9fb9
  User tianshu2020
  ProxyCommand ${HOME}/.local/share/uv/tools/determined/bin/python -m determined.cli.tunnel http://det.cipsup.cn %h
  StrictHostKeyChecking no
  IdentityFile ${HOME}/Library/Caches/determined/shell/%h/key
  IdentitiesOnly yes
  LocalCommand  { gpg-forward %n; emacs-forward %n } &
  RemoteForward 2048 localhost:22
  RemoteForward 6152 localhost:6152
  RemoteForward 6153 localhost:6153
Host backup
  User wangtianshu
  Hostname 192.168.14.74
Match exec "{ echo %h | grep '172\|192\|124' } && {echo %r | grep 'tianshu' }"
  LocalCommand  { gpg-forward %n; emacs-forward %n } &
  RemoteForward 2048 localhost:22
  RemoteForward 6152 localhost:6152
  RemoteForward 6153 localhost:6153
Match exec "echo %h | grep '172\|192\|124' && ! timeout 1 nc -z %h %p &> /dev/null"
  ProxyCommand nc -X 5 -x 127.0.0.1:6153 %h %p
Host *
  Compression yes
  HashKnownHosts yes
  ServerAliveInterval 60
  ServerAliveCountMax 10
  TCPKeepAlive yes
  ControlMaster auto
  ControlPath ~/.cache/ssh/%r@%h:%p
  ControlPersist 6h
  PermitLocalCommand no
  StrictHostKeyChecking accept-new
